(()=>{"use strict";var e={440:(e,t,n)=>{var r=n(7294),a=n(3935),o=n(5779),i=(n(1219),n(1106)),l=n(1120),c=n(8920),u=n(8463),s=n(9912),d=n(2318),f=n(9067),m=n(637),p=n(6211),h=n(3758),y=n(8334),b=n(6010);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=(0,l.Z)((function(e){return{root:{display:"flex"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto"},controls:{margin:"auto",height:60,paddingLeft:e.spacing(1),paddingBottom:e.spacing(1),paddingTop:e.spacing(1)},title:{fontWeight:"bold",marginBottom:e.spacing(4)},fab:{display:"flex",alignItems:"center",paddingLeft:e.spacing(1),paddingBottom:e.spacing(1)},fabGreen:{color:e.palette.common.white,backgroundColor:y.Z[500],"&:hover":{backgroundColor:y.Z[600]}}}})),w=function(){var e=g((0,r.useState)((function(){var e=parseInt(new URLSearchParams(document.location.search.substring(1)).get("id"));return isNaN(e)?(window.history.replaceState({id:-1},"","/view-calendar"),-1):(window.history.replaceState({id:e},"","/view-calendar?id="+e),e)})),2),t=e[0],n=e[1],a=g((0,r.useState)([]),2),l=a[0],y=a[1];console.log(l);var w=g((0,r.useState)({}),2),x=w[0],Z=w[1],j=g((0,r.useState)(!1),2),N=j[0],O=j[1],A=g(r.useState(0),2),C=A[0],I=A[1],k=E(),T=(0,c.Z)(),P={enter:T.transitions.duration.enteringScreen,exit:T.transitions.duration.leavingScreen};(0,r.useEffect)((function(){fetch("/api/calendar",{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){var t;console.log(e),y(function(e){if(Array.isArray(e))return S(e)}(t=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||v(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}))}),[]),(0,r.useEffect)((function(){t>0?fetch("/api/calendar?id="+t,{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){console.log(e),Z(e)})):Z({})}),[t,N]),window.onpopstate=function(e){n(e.state.id)},l.map((function(e){return{id:e.id,content:e.title}}));var B=[{color:"primary",className:k.fab,icon:r.createElement(f.Z,{className:k.icon}),label:"Edit Calendar"},{color:"inherit",className:(0,b.Z)(k.fab,k.fabGreen),icon:r.createElement(m.Z,{className:k.icon}),label:"Save Edits"}],G=function(){I(N?0:1),O(!N)};return r.createElement("div",null,r.createElement(i.Z,null),r.createElement(u.Z,{className:k.root},r.createElement("div",{className:k.details},r.createElement(s.Z,{className:k.content},r.createElement(d.Z,{component:"h4",variant:"h4",className:k.title},"Calendar: ",t)),r.createElement(u.Z,null,r.createElement(o.Z,{editable:N,onAvailChange:function(e,n,r){return function(){fetch("/api/updateavailability?calendarId="+t+"&date="+e+"&qHour="+n+"&state="+(r?1:0),{method:"POST",mode:"cors"}).then((function(e){}))}},file:x})),r.createElement("div",{className:k.controls},B.map((function(e,t){return r.createElement(p.Z,{key:e.color,in:C===t,timeout:P,style:{transitionDelay:"".concat(C===t?P.exit:0,"ms")},unmountOnExit:!0},r.createElement(h.Z,{"aria-label":e.label,className:e.className,color:e.color,onClick:G},e.icon))}))))))};a.render(r.createElement(w,null),document.getElementById("root"))}},t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=125,(()=>{var e={125:0},t=[[440,851,638,643,715,749,434,471,35,779,878,106,617,783,685]],r=()=>{};function a(){for(var r,a=0;a<t.length;a++){for(var o=t[a],i=!0,l=1;l<o.length;l++){var c=o[l];0!==e[c]&&(i=!1)}i&&(t.splice(a--,1),r=n(n.s=o[0]))}return 0===t.length&&(n.x(),n.x=()=>{}),r}n.x=()=>{n.x=()=>{},i=i.slice();for(var e=0;e<i.length;e++)o(i[e]);return(r=a)()};var o=a=>{for(var o,i,[c,u,s,d]=a,f=0,m=[];f<c.length;f++)i=c[f],n.o(e,i)&&e[i]&&m.push(e[i][0]),e[i]=0;for(o in u)n.o(u,o)&&(n.m[o]=u[o]);for(s&&s(n),l(a);m.length;)m.shift()();return d&&t.push.apply(t,d),r()},i=self.webpackChunkplenum=self.webpackChunkplenum||[],l=i.push.bind(i);i.push=o})(),n.x()})();
//# sourceMappingURL=view-calendar.js.map