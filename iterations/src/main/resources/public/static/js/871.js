(self.webpackChunkplenum=self.webpackChunkplenum||[]).push([[871,219,713,994],{4713:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(7294),a=n(5538);const o=function(e){var t={border:"1px solid black",width:"25px",height:"25px",textAlign:"center",outline:"none"};"A"===e.unavailable&&(t.backgroundColor="red"),void 0!==e.opacity&&(t.backgroundColor="hsla(120, 50%, 50%, ".concat(e.opacity));var n=void 0!==e.users_avail&&e.users_avail.length?r.createElement(a.Z,{id:e.tooltip_id,place:"top",effect:"solid"},r.createElement("ul",{style:{margin:"0",padding:"0"}},e.users_avail.map((function(e){return r.createElement("li",{key:e},e)})))):null;return r.createElement("td",null,r.createElement("button",{style:t,className:"day"+e.day,value:e.time,"data-tip":!0,"data-for":e.tooltip_id}),n)};function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const i=function(e){var t,n,a=(t=(0,r.useState)("A"===e.unavailable),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}}(t,n)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],i=a[1],c=(0,r.useRef)(!0),u={border:"1px solid black",width:"25px",height:"25px",textAlign:"center",outline:"none"},d=function(){};return void 0!==e.onAvailChange&&(d=e.onAvailChange(e.day,e.time,o)),(0,r.useEffect)((function(){c.current?c.current=!1:d()}),[o]),o&&(u.backgroundColor="red"),r.createElement("td",null,r.createElement("button",{onClick:function(){i(!o)},style:u,className:"day"+e.day,value:o?e.time:-1}))},c=function(e){for(var t=e.file,n=new Array(12),a=0;a<n.length;a++)n[a]=new Array(7);for(var l=0;l<12;l++)for(var c=0;c<7;c++)n[l][c]="U";if(void 0!==t&&void 0!==t.dates){console.log("test");for(var u=t.dates,d=0;d<u.length;d++)for(var s=0;s<u[d].times.length;s++)n[u[d].times[s]][u[d].date]="A"}return console.log(n),r.createElement("table",null,r.createElement("thead",null,r.createElement("tr",null,r.createElement("th",null),r.createElement("th",null,"Su"),r.createElement("th",null,"M"),r.createElement("th",null,"T"),r.createElement("th",null,"W"),r.createElement("th",null,"Th"),r.createElement("th",null,"F"),r.createElement("th",null,"S"))),r.createElement("tbody",null,n.map((function(t,n){return r.createElement("tr",{key:n},r.createElement("td",{style:{textAlign:"right"}},0===(a=n)||6===a?12:2*a%12),void 0!==e.editable&&!0===e.editable?t.map((function(t,a){return r.createElement(i,{key:a,onAvailChange:e.onAvailChange,unavailable:t,time:n,day:a})})):t.map((function(e,t){return r.createElement(o,{key:t,unavailable:e,time:n,day:t})})));var a}))))}},2871:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(7294),a=(n(3935),n(4713)),o=(n(1219),n(1106)),l=n(1120),i=n(8920),c=n(8463),u=n(9912),d=n(2318),s=n(9067),m=n(637),f=n(6211),y=n(3758),p=n(8334),b=n(6010);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=(0,l.Z)((function(e){return{root:{display:"flex"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto"},controls:{margin:"auto",height:60,paddingLeft:e.spacing(1),paddingBottom:e.spacing(1),paddingTop:e.spacing(1)},title:{fontWeight:"bold",marginBottom:e.spacing(4)},fab:{display:"flex",alignItems:"center",paddingLeft:e.spacing(1),paddingBottom:e.spacing(1)},fabGreen:{color:e.palette.common.white,backgroundColor:p.Z[500],"&:hover":{backgroundColor:p.Z[600]}}}}));const S=function(){var e=h((0,r.useState)((function(){var e=parseInt(new URLSearchParams(document.location.search.substring(1)).get("id"));return isNaN(e)?(window.history.replaceState({id:-1},"","/view-calendar"),-1):(window.history.replaceState({id:e},"","/view-calendar?id="+e),e)})),2),t=e[0],n=e[1],l=h((0,r.useState)([]),2),p=l[0],S=l[1];console.log(p);var Z=h((0,r.useState)({}),2),w=Z[0],A=Z[1],k=h((0,r.useState)(!1),2),C=k[0],x=k[1],N=h(r.useState(0),2),j=N[0],I=N[1],O=E(),T=(0,i.Z)(),G={enter:T.transitions.duration.enteringScreen,exit:T.transitions.duration.leavingScreen};(0,r.useEffect)((function(){fetch("/api/calendar",{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){var t;console.log(e),S(function(e){if(Array.isArray(e))return g(e)}(t=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||v(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}))}),[]),(0,r.useEffect)((function(){t>0?fetch("/api/calendar?id="+t,{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){console.log(e),A(e)})):A({})}),[t,C]),window.onpopstate=function(e){n(e.state.id)},p.map((function(e){return{id:e.id,content:e.title}}));var M=[{color:"primary",className:O.fab,icon:r.createElement(s.Z,{className:O.icon}),label:"Edit Calendar"},{color:"inherit",className:(0,b.Z)(O.fab,O.fabGreen),icon:r.createElement(m.Z,{className:O.icon}),label:"Save Edits"}],U=function(){I(C?0:1),x(!C)};return r.createElement("div",null,r.createElement(o.Z,null),r.createElement(c.Z,{className:O.root},r.createElement("div",{className:O.details},r.createElement(u.Z,{className:O.content},r.createElement(d.Z,{component:"h4",variant:"h4",className:O.title},"Calendar: ",w.calendarTitle)),r.createElement(c.Z,null,r.createElement(a.Z,{editable:C,onAvailChange:function(e,n,r){return function(){fetch("/api/updateavailability?calendarId="+t+"&date="+e+"&qHour="+n+"&state="+(r?1:0),{method:"POST",mode:"cors"}).then((function(e){}))}},file:w})),r.createElement("div",{className:O.controls},M.map((function(e,t){return r.createElement(f.Z,{key:e.color,in:j===t,timeout:G,style:{transitionDelay:"".concat(j===t?G.exit:0,"ms")},unmountOnExit:!0},r.createElement(y.Z,{"aria-label":e.label,className:e.className,color:e.color,onClick:U},e.icon))}))))))}},1219:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(998),a=n(6353),o=n(527),l=n(625),i=n(5757),c=n(1125),u=n(3099),d=n(1860),s=n(7812),m=n(8428),f=n(6037),y=n(2822),p=n(7294),b=n(1120),h=n(6230);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=(0,b.Z)((function(e){return{root:{flexGrow:1,maxWidth:752},demo:{backgroundColor:e.palette.background.paper},title:{margin:e.spacing(4,0,2)},rounded:{color:"#fff",backgroundColor:h.Z[500]},nested:{paddingLeft:e.spacing(4)}}}));const E=function(e){var t,n,b,h,E,S=g(),Z=(h=p.useState(!1),E=2,function(e){if(Array.isArray(e))return e}(h)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}}(h,E)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(h,E)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=Z[0],A=Z[1];return p.createElement("div",null,p.createElement(r.Z,(t={key:e.id,className:"content list",divider:!0,button:!0,onClick:function(){A(!w)}},n="className",b="".concat(e.id),n in t?Object.defineProperty(t,n,{value:b,enumerable:!0,configurable:!0,writable:!0}):t[n]=b,t),p.createElement(a.Z,null,p.createElement(o.Z,{variant:"rounded",className:S.rounded},p.createElement(l.Z,null))),p.createElement(i.Z,{primary:"".concat(e.content)}),w?p.createElement(c.Z,null):p.createElement(u.Z,null),p.createElement(d.Z,null,p.createElement(s.Z,{edge:"end","aria-label":"delete"},p.createElement(m.Z,{onClick:e.delete(e.id)})))),p.createElement(f.Z,{in:w,timeout:"auto",unmountOnExit:!0},p.createElement(y.Z,{component:"div",disablePadding:!0},p.createElement(r.Z,{button:!0,className:S.nested,onClick:e.clicked(e.id)},p.createElement(i.Z,{primary:"Click here to view or edit calendar (May be replaced by actual calendar view instead of a link in future. In addition, calendar descriptions may also appear here later.)"})))))}}}]);
//# sourceMappingURL=871.js.map