(()=>{"use strict";var e={8467:(e,t,n)=>{var r=n(7294),o=n(3935),a=n(5643),l=n(2751),i=n(1106),c=n(1120),u=n(8920),s=n(8463),f=n(9912),d=n(2318),m=n(3375),p=n(282);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=(0,c.Z)((function(e){return{root:{display:"flex"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto"},title:{fontWeight:"bold",marginBottom:e.spacing(4)},button:{marginLeft:e.spacing(2),marginTop:"10px"}}})),y=function(){var e=h((0,r.useState)((function(){var e=parseInt(new URLSearchParams(document.location.search.substring(1)).get("id"));return isNaN(e)?(window.history.replaceState({id:-1},"","/view-event"),-1):(window.history.replaceState({id:e},"","/view-event?id="+e),e)})),2),t=e[0],n=e[1],o=h((0,r.useState)({}),2),c=o[0],v=o[1],y=h((0,r.useState)({}),2),b=(y[0],y[1],h((0,r.useState)(!1),2)),S=(b[0],b[1],h(r.useState(0),2)),E=(S[0],S[1],h((0,r.useState)([]),2)),w=E[0],x=E[1],j=h((0,r.useState)(null),2),Z=j[0],O=j[1],I=g();return(0,u.Z)(),(0,r.useEffect)((function(){fetch("/api/aggregate?id="+t,{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){v(e)}))})),(0,r.useEffect)((function(){fetch("/api/calendar",{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){x(e)}))}),[]),window.onpopstate=function(e){n(e.state.id)},r.createElement("div",null,r.createElement(i.Z,null),r.createElement(s.Z,{className:I.root},r.createElement("div",{className:I.details},r.createElement(f.Z,{className:I.content},r.createElement(d.Z,{component:"h4",variant:"h4",className:I.title},"Event: ",t)),r.createElement(s.Z,null,r.createElement(a.Z,{agg:c}," ")))),r.createElement(l.Z,{options:w.map((function(e){return e.title})),onChange:function(e){O(e)}}),r.createElement(p.Z,{variant:"contained",color:"secondary",onClick:function(){return function(){for(var e="",n=0;n<w.length;n++)w[n].title===Z&&(e=w[n].id);fetch("/api/addconnection?eventId="+t+"&calendarId="+e,{method:"POST"}),console.log("uploaded")}()},className:I.button,startIcon:r.createElement(m.Z,null)},"Save Calendar to Event!"))};o.render(r.createElement(y,null),document.getElementById("root"))}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=455,(()=>{var e={455:0},t=[[8467,851,638,643,715,749,434,471,35,779,878,106,617,489]],r=()=>{};function o(){for(var r,o=0;o<t.length;o++){for(var a=t[o],l=!0,i=1;i<a.length;i++){var c=a[i];0!==e[c]&&(l=!1)}l&&(t.splice(o--,1),r=n(n.s=a[0]))}return 0===t.length&&(n.x(),n.x=()=>{}),r}n.x=()=>{n.x=()=>{},l=l.slice();for(var e=0;e<l.length;e++)a(l[e]);return(r=o)()};var a=o=>{for(var a,l,[c,u,s,f]=o,d=0,m=[];d<c.length;d++)l=c[d],n.o(e,l)&&e[l]&&m.push(e[l][0]),e[l]=0;for(a in u)n.o(u,a)&&(n.m[a]=u[a]);for(s&&s(n),i(o);m.length;)m.shift()();return f&&t.push.apply(t,f),r()},l=self.webpackChunkplenum=self.webpackChunkplenum||[],i=l.push.bind(l);l.push=a})(),n.x()})();
//# sourceMappingURL=view-event.js.map